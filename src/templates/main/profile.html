{% extends 'base.html' %}
{% load static %}

{% block title %}My Profile - Afrimart{% endblock %}

{% block content %}
<div class="container my-5 py-5">
    <div class="border-bottom pb-4 mb-5">
        <div class="row align-items-center g-4">
            <div class="col-md-6">
                <h1 class="fw-bold h2 mb-1" style="letter-spacing: -1px;">Member Profile</h1>
                <p class="text-muted small mb-0">Manage your personal identity and marketplace settings</p>
            </div>
            <div class="col-md-6 text-md-end">
                <span class="x-small fw-bold text-uppercase border p-2 px-3 bg-light">
                    Status: <span class="text-success">Verified Account</span>
                </span>
            </div>
        </div>
    </div>

    <div class="row g-5">
        <div class="col-lg-4">
            {% if user.is_seller %}
            <div class="p-4 border mb-4" style="background-color: var(--primary-green); color: #fff;">
                <h6 class="x-small fw-bold text-uppercase mb-3" style="letter-spacing: 1px; opacity: 0.8;">Vendor Central</h6>
                <h4 class="fw-bold mb-4">Manage your store inventory & sales.</h4>
                <a href="{% url 'seller_dashboard' %}" class="btn btn-light w-100 py-3 text-uppercase fw-bold shadow-none" style="font-size: 11px; letter-spacing: 1px;">
                    Go to Seller Dashboard &rarr;
                </a>
            </div>
            {% endif %}

            <div class="border bg-white">
                <a href="#" class="profile-nav-link active">Personal Information</a>
                <a href="#" class="profile-nav-link">Order History</a>
                <a href="{% url 'wallet' %}" class="profile-nav-link">My Wallet</a>
                <a href="#" class="profile-nav-link text-danger">Sign Out</a>
            </div>
        </div>

        <div class="col-lg-8">
            <div class="p-4 p-md-5 border bg-white">
                <h5 class="fw-bold text-uppercase mb-4 border-bottom pb-3" style="font-size: 13px; letter-spacing: 1px;">Account Details</h5>
                
                <form method="POST" action="">
                    {% csrf_token %}
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label x-small fw-bold text-uppercase text-muted">First Name</label>
                            <input type="text" class="form-control bg-light border-0" value="{{ user.first_name }}">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label x-small fw-bold text-uppercase text-muted">Last Name</label>
                            <input type="text" class="form-control bg-light border-0" value="{{ user.last_name }}">
                        </div>
                        <div class="col-12">
                            <label class="form-label x-small fw-bold text-uppercase text-muted">Email Address</label>
                            <input type="email" class="form-control bg-light border-0" value="{{ user.email }}" readonly>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label x-small fw-bold text-uppercase text-muted">Contact Number</label>
                            <input type="tel" class="form-control bg-light border-0" value="{{ user.profile.phone }}">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label x-small fw-bold text-uppercase text-muted">Country</label>
                            <select class="form-select bg-light border-0">
                                <option>Nigeria</option>
                                <option>Kenya</option>
                                <option>Ghana</option>
                            </select>
                        </div>
                    </div>

                    <div class="mt-5 pt-4 border-top">
                        <button type="submit" class="btn btn-dark px-5 py-3 text-uppercase fw-bold shadow-none" 
                                style="background-color: var(--primary-green); border: none; font-size: 12px; letter-spacing: 1px;">
                            Save Changes
                        </button>
                    </div>
                </form>
            </div>

            <div class="mt-4 p-4 border bg-light d-flex align-items-center gap-3">
                <ion-icon name="shield-checkmark-outline" class="text-success fs-4"></ion-icon>
                <p class="extra-small text-muted mb-0 text-uppercase fw-bold" style="letter-spacing: 0.5px;">
                    Your data is encrypted and protected by continental privacy standards.
                </p>
            </div>
        </div>
    </div>
</div>

<style>
    /* UI Overrides */
    .btn, .form-control, .form-select, .border, .bg-light, .profile-nav-link { border-radius: 0 !important; }
    .x-small { font-size: 10px; }
    .extra-small { font-size: 9px; }

    .form-control{
        font-size: 14px !important;
    }

    .form-select{
        font-size: 15px !important;
    }

    /* Profile Sidebar Navigation */
    .profile-nav-link {
        display: block;
        padding: 15px 20px;
        text-decoration: none;
        color: var(--text-main);
        font-size: 13px;
        font-weight: 600;
        border-bottom: 1px solid var(--border-light) !important;
        transition: 0.2s;
    }
    .profile-nav-link:last-child { border-bottom: none !important; }
    .profile-nav-link:hover { background-color: #fcfcfc; color: var(--primary-green); }
    .profile-nav-link.active { background-color: #f8f8f8; color: var(--primary-green); border-left: 4px solid var(--primary-green) !important; }

    .form-control:focus, .form-select:focus {
        border-color: var(--primary-green);
        background-color: #fff !important;
        box-shadow: none;
    }
</style>
{% endblock %}